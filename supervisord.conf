[unix_http_server]
file=/var/run/supervisor.sock   ; UNIX socket for supervisorctl
chmod=0700                      ; Restrict permissions to owner
chown=root:root                 ; Explicitly set ownership to root (since youâ€™re running as root)

[supervisord]
nodaemon=true                   ; Run in foreground for Docker/Kubernetes
user=root                       ; Explicitly run as root to suppress the warning
pidfile=/app/supervisord.pid    ; Matches your observed PID file
logfile=/app/supervisord.log    ; Matches your observed log file
loglevel=info                   ; Set log level (adjustable: debug, warn, error)

[supervisorctl]
serverurl=unix:///var/run/supervisor.sock  ; Point to the socket for control

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[program:gunicorn]
command=gunicorn --bind 0.0.0.0:8000 --timeout 40 --workers 4 horilla.wsgi:application --access-logfile /var/log/gunicorn.log
directory=/app                  ; Working directory for your Django app
autorestart=true                ; Restart Gunicorn if it crashes
startsecs=1                     ; Time to wait before considering it "running"
stopasgroup=true                ; Ensure all Gunicorn workers stop together
redirect_stderr=true            ; Combine stderr with stdout
stdout_logfile=/var/log/gunicorn.log